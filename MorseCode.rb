$m = {
  "._" => 'A',
  "_..." => 'B',
  "_._." => 'C',
  "_.." => 'D',
  "." => 'E',
  ".._." => 'F',
  "__." => 'G',
  "...." => 'H',
  ".." => 'I',
  ".___" => 'J',
  "_._"=> 'K',
  "._.." => 'L',
  "__" => 'M',
  "_." => 'N',
  "___" => 'O',
  ".__." => 'P',
  "__._" => 'Q',
  "._." => 'R',
  "..." => 'S',
  "_" => 'T',
  ".._" => 'U',
  "..._" => 'V',
  ".__" => 'W',
  "_.._" => 'X',
  "_.__" => 'Y',
  "__.." => 'Z'
}


def MorseCode(m, k)
  k, m = k.split(' ').map { |w|
    $m[w]
  }.join, m.split('  ').map { |w|
    w.split(' ').map { |l|
      $m[l]
    }.join
  }

  t = [*'A'..'Z']
  m.map { |s|
    s.each_char.map { |c|
      t[(2 + c.ord - k[0].ord) % 26]
    }.join
  }.join(' ')
end
